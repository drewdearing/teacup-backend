(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{186:function(e,t,a){"use strict";(function(e){var n=a(7),l=a(8),r=a(9),c=a(10),o=a(11),s=a(1),i=a.n(s),u=a(187),p=a(31),m=a(319),d=(a(220),a(222),a(204)),h=a(206),b=a(203),f=function(e){function t(){var e;return Object(n.a)(this,t),(e=Object(r.a)(this,Object(c.a)(t).call(this))).state={loading:!0,loaded:!1},e}return Object(o.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("load",function(){e.setState({loading:!1}),setTimeout(function(){return e.setState({loaded:!0})},500)})}},{key:"render",value:function(){var e=this.state,t=e.loaded,a=e.loading;return i.a.createElement(p.a,{store:h.a},i.a.createElement(m.a,null,i.a.createElement(b.a,null,!t&&i.a.createElement("div",{className:"load".concat(a?"":" loaded")},i.a.createElement("div",{className:"load__icon-wrap"},i.a.createElement("svg",{className:"load__icon"},i.a.createElement("path",{fill:"#4ce1b6",d:"M12,4V2A10,10 0 0,0 2,12H4A8,8 0 0,1 12,4Z"})))),i.a.createElement("div",null,i.a.createElement(d.a,null)))))}}]),t}(s.Component);t.a=Object(u.hot)(e)(f)}).call(this,a(55)(e))},203:function(e,t,a){"use strict";var n=a(7),l=a(8),r=a(9),c=a(10),o=a(11),s=a(1),i=a(321),u=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.location.pathname!==e.location.pathname&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children}}]),t}(s.PureComponent);t.a=Object(i.a)(u)},204:function(e,t,a){"use strict";var n=a(1),l=a.n(n),r=a(265),c=a(320),o=a(7),s=a(8),i=a(9),u=a(10),p=a(11),m=a(321),d=a(31),h=a(3),b=a.n(h),f=a(224),v="".concat("","/img/burger.svg"),g=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.changeMobileSidebarVisibility,a=e.changeSidebarVisibility;return l.a.createElement("div",null,l.a.createElement("button",{className:"topbar__button topbar__button--desktop",onClick:a},l.a.createElement("img",{src:v,alt:"",className:"topbar__button-icon"})),l.a.createElement("button",{className:"topbar__button topbar__button--mobile",onClick:t},l.a.createElement("img",{src:v,alt:"",className:"topbar__button-icon"})))}}]),t}(n.PureComponent),E=a(189),_=a.n(E),k=a(5),y=a(41),O=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.icon,n=e.path;return l.a.createElement(f.a,{className:"topbar__link",to:n},l.a.createElement("span",{className:"topbar__link-icon lnr lnr-".concat(a)}),l.a.createElement("p",{className:"topbar__link-title"},t))}}]),t}(n.PureComponent),N="".concat("","/img/ava.png"),j=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).toggle=function(){a.setState({collapse:!a.state.collapse})};var n=a.props.cookies;return a.state={collapse:!1,username:"User"},n.get("user")&&(a.state={username:n.get("user").user,collapse:!1}),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.collapse;return l.a.createElement("div",{className:"topbar__profile"},l.a.createElement("button",{className:"topbar__avatar",onClick:this.toggle},l.a.createElement("img",{className:"topbar__avatar-img",src:N,alt:"avatar"}),l.a.createElement("p",{className:"topbar__avatar-name"},t),l.a.createElement(_.a,{className:"topbar__icon"})),a&&l.a.createElement("button",{className:"topbar__back",onClick:this.toggle}),l.a.createElement(k.g,{isOpen:a,className:"topbar__menu-wrap"},l.a.createElement("div",{className:"topbar__menu"},l.a.createElement(O,{title:"My Brackets",icon:"list",path:"/brackets"}),l.a.createElement("div",{className:"topbar__menu-divider"}),l.a.createElement(O,{title:"Log Out",icon:"exit",path:"/login"}))))}}]),t}(n.PureComponent),C=Object(y.b)(j),L=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.changeMobileSidebarVisibility,a=e.changeSidebarVisibility;return l.a.createElement("div",{className:"topbar"},l.a.createElement("div",{className:"topbar__wrapper"},l.a.createElement("div",{className:"topbar__left"},l.a.createElement(g,{changeMobileSidebarVisibility:t,changeSidebarVisibility:a}),l.a.createElement(f.a,{className:"topbar__logo",to:"/"})),l.a.createElement("div",{className:"topbar__right"},l.a.createElement(C,null))))}}]),t}(n.PureComponent),S=a(191),w=a.n(S),P=a(315),D=function(e){var t=e.title,a=e.icon,n=e.newLink,r=e.route,c=e.onClick;return l.a.createElement(P.a,{to:r,onClick:c,activeClassName:"sidebar__link-active"},l.a.createElement("li",{className:"sidebar__link"},a?l.a.createElement("span",{className:"sidebar__link-icon lnr lnr-".concat(a)}):"",l.a.createElement("p",{className:"sidebar__link-title"},t,n?l.a.createElement(k.a,{className:"sidebar__link-badge"},l.a.createElement("span",null,"New")):"")))};D.defaultProps={icon:"",newLink:!1,route:"/",onClick:function(){}};var M=D,x=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).hideSidebar=function(){a.props.onClick()},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"sidebar__content"},l.a.createElement("ul",{className:"sidebar__block"},l.a.createElement(M,{title:"Brackets",icon:"home",route:"/brackets",onClick:this.hideSidebar})),l.a.createElement("ul",{className:"sidebar__block"},l.a.createElement(M,{title:"Downloads",icon:"home",route:"/downloads",onClick:this.hideSidebar})))}}]),t}(n.Component),T=a(0),U=a.n(T),R=U.a.string,A=U.a.shape,B=(A({show:U.a.bool,collapse:U.a.bool}),A({className:R}),function(e){var t=e.changeToDark,a=e.changeToLight,n=e.changeMobileSidebarVisibility,r=e.sidebar,c=b()({sidebar:!0,"sidebar--show":r.show,"sidebar--collapse":r.collapse});return l.a.createElement("div",{className:c},l.a.createElement("button",{className:"sidebar__back",onClick:n}),l.a.createElement(w.a,{className:"sidebar__scroll scroll"},l.a.createElement("div",{className:"sidebar__wrapper sidebar__wrapper--desktop"},l.a.createElement(x,{onClick:function(){},changeToDark:t,changeToLight:a})),l.a.createElement("div",{className:"sidebar__wrapper sidebar__wrapper--mobile"},l.a.createElement(x,{onClick:n,changeToDark:t,changeToLight:a}))))}),V=a(69),I=a(70),K=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).changeSidebarVisibility=function(){a.props.dispatch(Object(I.d)())},a.changeMobileSidebarVisibility=function(){a.props.dispatch(Object(I.c)())},a.changeToDark=function(){a.props.dispatch(Object(V.c)())},a.changeToLight=function(){a.props.dispatch(Object(V.d)())},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=b()({layout:!0,"layout--collapse":this.props.sidebar.collapse});return l.a.createElement("div",{className:e},l.a.createElement(L,{changeMobileSidebarVisibility:this.changeMobileSidebarVisibility,changeSidebarVisibility:this.changeSidebarVisibility}),l.a.createElement(B,{sidebar:this.props.sidebar,changeToDark:this.changeToDark,changeToLight:this.changeToLight,changeMobileSidebarVisibility:this.changeMobileSidebarVisibility}))}}]),t}(n.Component),W=Object(m.a)(Object(d.b)(function(e){return{sidebar:e.sidebar}})(K)),F=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.theme;return l.a.createElement("div",{className:e.className},l.a.createElement("div",{className:"wrapper"},this.props.children))}}]),t}(n.PureComponent),H=Object(d.b)(function(e){return{theme:e.theme}})(F),J=a(75),G=a(193),z=a.n(G),Y=a(194),Q=a.n(Y),Z=a(195),q=a.n(Z),X=a(138),$=a.n(X),ee=a(196),te=a.n(ee),ae=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.onChange)(e.defaultChecked)}},{key:"render",value:function(){var e=this.props,t=e.disabled,a=e.className,n=e.name,r=e.value,c=e.onChange,o=e.label,s=e.color,i=b()({"checkbox-btn":!0,disabled:t});return l.a.createElement("label",{className:"".concat(i," ").concat(a?" checkbox-btn--".concat(a):""),htmlFor:n},l.a.createElement("input",{className:"checkbox-btn__checkbox",type:"checkbox",id:n,name:n,onChange:c,checked:r,disabled:t}),l.a.createElement("span",{className:"checkbox-btn__checkbox-custom",style:s?{background:s,borderColor:s}:{}},l.a.createElement($.a,null)),"button"===a?l.a.createElement("span",{className:"checkbox-btn__label-svg"},l.a.createElement($.a,{className:"checkbox-btn__label-check"}),l.a.createElement(te.a,{className:"checkbox-btn__label-uncheck"})):"",l.a.createElement("span",{className:"checkbox-btn__label"},o))}}]),t}(n.PureComponent);ae.defaultProps={label:"",defaultChecked:!1,disabled:!1,className:"",color:""};var ne=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).showKey=function(t){t.preventDefault(),e.setState({showKey:!e.state.showKey})},e.signIn=function(t){var a=e.state,n=a.user,l=a.key,r=a.rememberMe;t.preventDefault(),e.setState({formDisabled:!0}),console.log("signing in...");var c="".concat("https://teacup-challonge.herokuapp.com","/init?user=").concat(n,"&key=").concat(l);console.log(c),fetch(c,{method:"get"}).then(function(t){console.log("result returned."),t.json().then(function(t){console.log(t),t.isAuthenticated?e.props.onSuccess({user:n,key:l,rememberMe:r}):e.setState({formDisabled:!1})})},function(t){console.log("error returned."),console.log(t),e.setState({formDisabled:!1})})},e.updateUser=function(t){e.setState({user:t.target.value})},e.updateKey=function(t){e.setState({key:t.target.value})},e.updateRememberMe=function(t){t&&e.setState({rememberMe:!e.state.rememberMe})},e.state={showKey:!1,formDisabled:!1,user:"",key:"",rememberMe:!1},e}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state.showKey;return l.a.createElement("form",{className:"form"},l.a.createElement("div",{className:"form__form-group"},l.a.createElement("span",{className:"form__form-group-label"},"Username"),l.a.createElement("div",{className:"form__form-group-field"},l.a.createElement("div",{className:"form__form-group-icon"},l.a.createElement(q.a,null)),l.a.createElement("input",{name:"user",type:"text",placeholder:"Challonge Username",onChange:function(t){return e.updateUser(t)},disabled:this.state.formDisabled?"disabled":""}))),l.a.createElement("div",{className:"form__form-group"},l.a.createElement("span",{className:"form__form-group-label"},"API Key"),l.a.createElement("div",{className:"form__form-group-field"},l.a.createElement("div",{className:"form__form-group-icon"},l.a.createElement(Q.a,null)),l.a.createElement("input",{name:"key",type:t?"text":"password",placeholder:"Challonge API Key",onChange:function(t){return e.updateKey(t)},disabled:this.state.formDisabled?"disabled":""}),l.a.createElement("button",{className:"form__form-group-button".concat(t?" active":""),onClick:function(t){return e.showKey(t)},type:"button",disabled:this.state.formDisabled?"disabled":""},l.a.createElement(z.a,null))),l.a.createElement("div",{className:"account__forgot-password"},l.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://challonge.com/settings/developer"},"Locate API Key"))),l.a.createElement("div",{className:"form__form-group"},l.a.createElement("div",{className:"form__form-group-field"},l.a.createElement(ae,{name:"rememberMe",label:"Remember me",disabled:this.state.formDisabled?"disabled":"",onChange:function(t){return e.updateRememberMe(t)}}))),l.a.createElement("button",{type:"submit",className:"btn btn-primary account__btn account__btn--small",onClick:function(t){return e.signIn(t)},disabled:this.state.formDisabled?"disabled":""},"Sign In"))}}]),t}(n.PureComponent),le=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).props.cookies.remove("user"),a.handleSubmit=a.handleSubmit.bind(Object(J.a)(Object(J.a)(a))),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"handleSubmit",value:function(e){this.props.cookies.set("user",e),this.props.history.push({pathname:"/"})}},{key:"render",value:function(){return l.a.createElement("div",{className:"account"},l.a.createElement("div",{className:"account__wrapper"},l.a.createElement("div",{className:"account__card"},l.a.createElement("div",{className:"account__head"},l.a.createElement("h3",{className:"account__title"},"Welcome to",l.a.createElement("span",{className:"account__logo"}," tea",l.a.createElement("span",{className:"account__logo-accent"},"Cup"))),l.a.createElement("h4",{className:"account__subhead subhead"},"The Stream Assistant for Challonge")),l.a.createElement(ne,{onSuccess:this.handleSubmit}))))}}]),t}(n.Component);le.defaultProps={history:null};var re=Object(m.a)(Object(y.b)(le)),ce=a(197),oe=a.n(ce),se=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).onChange=function(e){(0,a.props.updateRound)(e)},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(){this.forceUpdate()}},{key:"render",value:function(){var e=this,t=this.props.round;return l.a.createElement("form",{className:"form"},l.a.createElement("div",{className:"form__form-group"},l.a.createElement("span",{className:"form__form-group-label"},"Round"),l.a.createElement("div",{className:"form__form-group-field"},l.a.createElement("input",{name:"round",type:"text",value:t,placeholder:"Round",onChange:function(t){return e.onChange(t)}}))))}}]),t}(n.PureComponent);se.defaultProps={round:null,updateRound:null};var ie=se,ue=a(198),pe=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).handleChange=function(e){var t=a.props,n=t.name;(0,t.onChange)({target:{name:n,value:e.value,label:e.label}})},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.value,a=e.name,n=e.placeholder,r=e.options;return l.a.createElement(ue.a,{name:a,value:t,onChange:this.handleChange,options:r,clearable:!1,className:"react-select",placeholder:n,classNamePrefix:"react-select"})}}]),t}(n.PureComponent);pe.defaultProps={placeholder:"",options:[]};var me=pe,de=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onChange=function(e){var t=a.props,n=t.id;(0,t.updateLabel)(n,e)},a.getLabel=function(e){var t=a.props.participant;if("string"===e.type)return l.a.createElement("div",{className:"form__form-group"},l.a.createElement("span",{className:"form__form-group-label"},e.name),l.a.createElement("div",{className:"form__form-group-field"},l.a.createElement("input",{name:e.name,type:"text",value:t[e.name],placeholder:e.name,onChange:function(e){return a.onChange(e)}})));if("int"===e.type)return l.a.createElement("div",{className:"form__form-group"},l.a.createElement("span",{className:"form__form-group-label"},e.name),l.a.createElement("div",{className:"form__form-group-field"},l.a.createElement("input",{name:e.name,type:"number",value:t[e.name],onChange:function(e){return a.onChange(e)}})));if("option_select"===e.type){var n=[],r={label:t[e.name],value:t[e.name]};return e.options.forEach(function(e){n.push({label:e,value:e})}),l.a.createElement("div",{className:"form__form-group"},l.a.createElement("span",{className:"form__form-group-label"},e.name),l.a.createElement(me,{options:n,value:r,name:e.name,placeholder:e.name,onChange:a.onChange}))}return l.a.createElement("br",null)},a.showLabels=function(){var e=a.props.labels,t=[];return Object.keys(e).length>0?(Object.values(e).forEach(function(e){t.push(a.getLabel(e))}),t):l.a.createElement("p",null,"Add labels to this bracket to edit participant data.")},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(){this.forceUpdate()}},{key:"render",value:function(){var e=this.props.participant;return l.a.createElement("div",null,l.a.createElement("h3",null,e.name),l.a.createElement("form",{className:"form"},this.showLabels()))}}]),t}(n.PureComponent);de.defaultProps={participant:null,labels:null,updateLabel:null,id:null};var he=de,be=a(317),fe=a(316),ve=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).loadBracket=function(t){var a=e.props,n=a.user,l=a.handleSubmit,r=e.state.challongeURL;t.preventDefault();var c=n.user,o=n.key,s="https://teacup-challonge.herokuapp.com/init?user=".concat(c,"&key=").concat(o,"&id=").concat(r);console.log(s),fetch(s,{method:"get"}).then(function(t){console.log("result returned."),t.json().then(function(t){console.log(t),t.isOwner?l(r):e.setState({status:"You are not authorized to load this bracket!"})})},function(){e.setState({status:"An error occurred!"})})},e.updateURL=function(t){e.setState({challongeURL:t.target.value})},e.state={challongeURL:"",status:"Enter the Challonge URL Code below."},e}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state.status;return l.a.createElement("div",null,l.a.createElement("p",null,l.a.createElement("b",null,t)),l.a.createElement("br",null),l.a.createElement("form",{className:"form"},l.a.createElement("div",{className:"form__form-group"},l.a.createElement("label",{htmlFor:"challongeURL",className:"form__form-group-label"},"Challonge URL Code"),l.a.createElement("div",{className:"form__form-group-field"},l.a.createElement(be.a,{id:"challongeURL",name:"challongeURL",component:"input",type:"text",placeholder:"Challonge URL Code",onChange:function(t){return e.updateURL(t)}}))),l.a.createElement(k.c,{className:"form__button-toolbar"},l.a.createElement(k.b,{color:"primary",type:"submit",onClick:function(t){return e.loadBracket(t)}},"Load"))))}}]),t}(n.PureComponent);ve.defaultProps={user:null,handleSubmit:null};var ge=Object(fe.a)({form:"challonge_import_form"})(ve),Ee=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(){this.forceUpdate()}},{key:"render",value:function(){var e=this.props,t=e.user,a=e.bracket,n=e.labels,r=e.currentMatch,c=e.updateLabel,o=e.updateRound,s=e.update,i=e.finish;if(null!=a&&null!=n){if(null!=r&&null!=r.match_id){var u=r.participant1,p=r.participant2,m=r.participants[u],d=r.participants[p];return l.a.createElement("div",null,l.a.createElement(ie,{round:r.round,updateRound:o}),l.a.createElement(k.i,null,l.a.createElement(k.f,null,l.a.createElement(he,{participant:m,id:u,labels:n,updateLabel:c})),l.a.createElement(k.f,null,l.a.createElement(he,{participant:d,id:p,labels:n,updateLabel:c}))),l.a.createElement("div",{className:"float-right"},l.a.createElement(k.b,{type:"submit",color:"secondary",onClick:function(e){return i(e)}},"Finish Set"),l.a.createElement(k.b,{color:"primary",type:"submit",onClick:function(e){return s(e)}},"Update")))}return l.a.createElement("p",null,"Waiting on match.")}return l.a.createElement(ge,{user:t,handleSubmit:this.props.loadBracket})}}]),t}(n.PureComponent);Ee.defaultProps={user:null,bracket:null,labels:null,currentMatch:null,loadBracket:null,updateLabel:null,updateRound:null,update:null,finish:null};var _e=Ee,ke=a(202),ye=a.n(ke),Oe=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).handleChange=function(e){var t=a.props,n=t.name;(0,t.onChange)({target:{name:n,value:e.value,label:e.label}})},a.loadOptions=function(e,t){var n=a.props.bracket,l="https://teacup-challonge.herokuapp.com/participants?id=".concat(n);fetch(l,{method:"get"}).then(function(n){console.log("result returned."),n.json().then(function(n){a.filterOptions(n,e,t)})},function(){console.log("error")})},a.filterOptions=function(e,t,a){var n=[],l=[];e.forEach(function(e){if("participant"in e){var a=e.participant,r=a.id,c=a.display_name;c.toLowerCase().includes(t.toLowerCase())&&n.push({value:r,label:c}),l.push({value:r,label:c})}}),console.log(n),a(n)},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.value,a=e.name,n=e.placeholder;return l.a.createElement(ye.a,{name:a,value:t,onChange:this.handleChange,loadOptions:this.loadOptions,clearable:!1,className:"react-select",placeholder:n,classNamePrefix:"react-select",defaultOptions:!0})}}]),t}(n.PureComponent);Oe.defaultProps={placeholder:""};var Ne=Oe,je=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).setLabels=function(e){var t={};Object.keys(e).forEach(function(a){var n=e[a].value;t[a]=null!=n&&""!==n?e[a].value:e[a].default}),a.setState({labels:e,participant:t})},a.updateParticipant=function(e){var t=a.props.bracket;a.setState({selected:{label:e.target.label,value:String(e.target.value)},labels:null,participant:null});var n="https://teacup-challonge.herokuapp.com";n+="/participant/labels?id=".concat(t,"&participant_id=").concat(e.target.value),fetch(n,{method:"get"}).then(function(e){console.log("result returned."),e.json().then(function(e){a.setLabels(e)})},function(){console.log("error")})},a.updateLabel=function(e,t){var n=a.state.participant;if(null!=n){var l=n;l[t.target.name]=t.target.value,console.log(n),a.setState({participant:l},function(){a.forceUpdate()})}},a.update=function(e){var t=a.props.bracket,n=a.state,l=n.selected,r=n.participant;if(e.preventDefault(),null!=l.value&&""!==l.value){var c={id:t,participant_id:l.value,labels:r};fetch("https://teacup-challonge.herokuapp.com/participant/labels/update",{method:"put",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}}).then(function(){console.log("result returned.")},function(){console.log("error")})}},a.showParticipant=function(){var e=a.state,t=e.selected,n=e.participant,r=e.labels;return null!=t&&""!==t.value?null!=n&&null!=r?l.a.createElement("div",null,l.a.createElement(he,{participant:n,labels:r,id:n.value,updateLabel:a.updateLabel}),l.a.createElement(k.b,{className:"float-right",color:"primary",type:"submit",onClick:function(e){return a.update(e)}},"Update")):l.a.createElement("p",null,"Loading participant..."):l.a.createElement("p",null,"Select a participant.")},a.state={selected:{label:"",value:""},participant:null,labels:null},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(){this.forceUpdate()}},{key:"render",value:function(){var e=this.props.bracket;return null!=e?l.a.createElement("div",null,l.a.createElement("form",{className:"form"},l.a.createElement("div",{className:"form__form-group"},l.a.createElement("span",{className:"form__form-group-label"},"Participant"),l.a.createElement(Ne,{bracket:e,name:"selectedParticipant",value:this.state.selected,placeholder:"Participant Name",onChange:this.updateParticipant}))),this.showParticipant()):l.a.createElement("p",null,"Waiting on bracket.")}}]),t}(n.PureComponent);je.defaultProps={bracket:null};var Ce=je,Le=a(99),Se=a.n(Le),we=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onChange=function(e){var t=a.props,n=t.id;(0,t.updateLabelProperty)(n,e)},a.onChangeOptions=function(e){var t=a.props,n=t.id;(0,t.updateLabelProperty)(n,{target:{name:"options",value:e}})},a.defaultField=function(e){if("string"===e.type)return l.a.createElement("div",{className:"form__form-group"},l.a.createElement("span",{className:"form__form-group-label"},"Default Value"),l.a.createElement("div",{className:"form__form-group-field"},l.a.createElement("input",{name:"default",type:"text",value:e.default,placeholder:"Default Value",onChange:function(e){return a.onChange(e)}})));if("int"===e.type)return l.a.createElement("div",{className:"form__form-group"},l.a.createElement("span",{className:"form__form-group-label"},"Default Value"),l.a.createElement("div",{className:"form__form-group-field"},l.a.createElement("input",{name:"default",type:"number",value:e.default,onChange:function(e){return a.onChange(e)}})));if("option_select"===e.type){var t=[],n={label:e.default,value:e.default};return e.options.forEach(function(e){t.push({label:e,value:e})}),l.a.createElement("div",{className:"form__form-group"},l.a.createElement("span",{className:"form__form-group-label"},"Default Value"),l.a.createElement(me,{options:t,value:n,name:"default",placeholder:"Default Value",onChange:a.onChange}))}return null},a.optionsField=function(e){if("option_select"===e.type){var t=[];return e.options.forEach(function(e){t.push({label:e,value:e})}),l.a.createElement("div",{className:"form__form-group"},l.a.createElement("span",{className:"form__form-group-label"},"Options"),l.a.createElement(Se.a,{isMulti:!0,value:t,className:"basic-multi-select",options:t,name:"options",placeholder:"Options",onChange:a.onChangeOptions}))}return null},a.typeField=function(e){var t={string:{label:"Text",value:"string"},int:{label:"Integer",value:"int"},option_select:{label:"Option Select",value:"option_select"}};return l.a.createElement("div",{className:"form__form-group"},l.a.createElement("span",{className:"form__form-group-label"},"Type"),l.a.createElement(me,{options:Object.values(t),value:t[e.type],name:"type",placeholder:"Type",onChange:a.onChange}))},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(){this.forceUpdate()}},{key:"render",value:function(){var e=this.props.label;return l.a.createElement("div",null,l.a.createElement("form",{className:"form"},this.typeField(e),this.optionsField(e),this.defaultField(e)))}}]),t}(n.PureComponent);we.defaultProps={label:null,updateLabelProperty:null,id:null};var Pe=we,De=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).updateSelectedLabel=function(e){var t=a.props,n=t.labels,l=t.addLabel;if(e.value in n){var r=n[e.value];a.setState({selected:e,label:r},function(){a.forceUpdate()})}else{var c={name:e.value,type:"string",default:""};a.setState({selected:e,label:c}),l(c)}},a.update=function(e){var t=a.state.label,n=a.props.bracket;if(e.preventDefault(),null!=t){console.log("hi");var l={id:n,label:t};fetch("https://teacup-challonge.herokuapp.com/labels/update",{method:"put",body:JSON.stringify(l),headers:{"Content-Type":"application/json"}})}},a.delete=function(e){var t=a.state.label,n=a.props.bracket;if(e.preventDefault(),null!=t){var l={id:n,name:t.name};fetch("https://teacup-challonge.herokuapp.com/labels/delete",{method:"put",body:JSON.stringify(l),headers:{"Content-Type":"application/json"}}),a.setState({selected:{label:"",value:""},label:null})}},a.showLabel=function(){var e=a.state,t=e.selected,n=e.label;return null!=t&&""!==t.value?null!=n?l.a.createElement("div",null,l.a.createElement(Pe,{label:n,id:t.value,updateLabelProperty:a.props.updateLabelProperty}),l.a.createElement("div",{className:"float-right"},l.a.createElement(k.b,{color:"secondary",type:"submit",onClick:function(e){return a.delete(e)}},"Delete"),l.a.createElement(k.b,{color:"primary",type:"submit",onClick:function(e){return a.update(e)}},"Update"))):l.a.createElement("p",null,"Loading label..."):l.a.createElement("p",null,"Select a label.")},a.state={selected:{label:"",value:""},label:null},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(){this.forceUpdate()}},{key:"render",value:function(){var e=this.props,t=e.bracket,a=e.labels;if(null!=t){var n=[];return Object.keys(a).forEach(function(e){"name"!==e&&"score"!==e&&n.push({label:e,value:e})}),l.a.createElement("div",null,l.a.createElement("form",{className:"form"},l.a.createElement("div",{className:"form__form-group"},l.a.createElement("span",{className:"form__form-group-label"},"Label"),l.a.createElement(Se.a,{name:"selectedLabel",value:this.state.selected,placeholder:"Label Name",onChange:this.updateSelectedLabel,options:n}))),this.showLabel())}return l.a.createElement("p",null,"Waiting on bracket.")}}]),t}(n.PureComponent);De.defaultProps={bracket:null,labels:null,updateLabelProperty:null,addLabel:null};var Me=De,xe=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).setUpSocket=function(){a.state.socket.on("current_labels",function(e){return a.handleLabelUpdate(e)})},a.getLabels=function(e,t,n){var l="https://teacup-challonge.herokuapp.com/labels?id=".concat(e);fetch(l,{method:"get"}).then(function(l){console.log("result returned."),l.json().then(function(l){console.log(l),a.setState({bracket:e,title:t,subTitle:n,loading:!1,labels:l}),a.startService()})},function(){console.log("error")})},a.handleLabelUpdate=function(e){var t=a.state.currentMatch;"match_id"in e&&(t.match_id=e.match_id),"round"in e&&(t.round=e.round),"participants"in e&&Object.keys(e.participants).forEach(function(a){"participants"in t||(t.participants={}),a in t.participants?Object.keys(e.participants[a]).forEach(function(n){t.participants[a][n]=e.participants[a][n]}):t.participants[a]=e.participants[a]}),"participant1"in e&&"participant2"in e&&(t.participant1=e.participant1,t.participant2=e.participant2),a.setState({currentMatch:t})},a.updateLabel=function(e,t){var n=a.state.currentMatch;if("participants"in n&&e in n.participants){var l=n.participants[e];l[t.target.name]=t.target.value,n.participants[e]=l,a.setState({currentMatch:n})}},a.addLabel=function(e){var t=a.state.labels;t[e.name]=e,a.setState({labels:t})},a.updateRound=function(e){var t=a.state.currentMatch;t.round=e.target.value,a.setState({currentMatch:t})},a.updateLabelProperty=function(e,t){var n=a.state.labels;if(e in n){var l=n[e];if("type"===t.target.name)"option_select"!==l.type&&"option_select"!==t.target.value||(l.options=[]),l.type=t.target.value,l.default="";else if("options"===t.target.name){l.options=[];var r=!1;if(t.target.value.forEach(function(e){l.options.push(e.value),e.value===l.default&&(r=!0)}),!r&&(l.default="",l.options.length>0)){var c=l.options[0];l.default=c}}else if("default"===t.target.name)if("option_select"===l.type){var o=!1;l.options.forEach(function(e){e===t.target.value&&(o=!0)}),o&&(l.default=t.target.value)}else l.default=t.target.value;n[e]=l,a.setState({labels:n})}},a.update=function(e){var t=a.state,n=t.bracket,l=t.currentMatch,r=t.user;e.preventDefault(),l.id=n;l.id=n,l.user=r.user,l.key=r.key,fetch("https://teacup-challonge.herokuapp.com/match/update",{method:"put",body:JSON.stringify(l),headers:{"Content-Type":"application/json"}}).then(function(e){console.log(e)},function(){console.log("error")}),fetch("https://teacup-challonge.herokuapp.com/match/update/score",{method:"put",body:JSON.stringify(l),headers:{"Content-Type":"application/json"}}).then(function(e){console.log(e)},function(){console.log("error")})},a.finish=function(e){var t=a.state,n=t.bracket,l=t.currentMatch,r=t.user;e.preventDefault(),l.id=n;l.id=n,l.user=r.user,l.key=r.key,fetch("https://teacup-challonge.herokuapp.com/match/complete",{method:"put",body:JSON.stringify(l),headers:{"Content-Type":"application/json"}}).then(function(e){console.log(e)},function(){console.log("error")})},a.startService=function(){var e=a.state.bracket,t="https://teacup-challonge.herokuapp.com/currentMatch?id=".concat(e);fetch(t,{method:"get"}).then(function(t){console.log("result returned."),t.json().then(function(t){a.setState({currentMatch:t,socket:oe()("https://teacup-challonge.herokuapp.com?id=".concat(e))}),a.setUpSocket()})},function(){console.log("error")})},a.updateBracket=function(e){var t="https://teacup-challonge.herokuapp.com/tournament?id=".concat(e);fetch(t,{method:"get"}).then(function(t){console.log("result returned."),t.json().then(function(t){console.log(t),a.getLabels(e,t.tournament.name,"Update stream match data live!")})},function(){console.log("error")})},a.loadBracket=function(e){a.props.history.push({pathname:"/brackets/".concat(e)}),a.setState({loading:!0})},a.resetBracket=function(){a.setState({bracket:null,labels:null,loading:!1,socket:null,title:"Load Bracket",subTitle:"Load a Challonge bracket to get started!"})},a.verifyBracket=function(e){var t=a.props.history,n=a.state.user,l=n.user,r=n.key,c="https://teacup-challonge.herokuapp.com/init?user=".concat(l,"&key=").concat(r,"&id=").concat(e);console.log(c),fetch(c,{method:"get"}).then(function(n){console.log("result returned."),n.json().then(function(n){console.log(n),n.isOwner?a.updateBracket(e):t.push({pathname:"/brackets"})})},function(){t.push({pathname:"/brackets"})})};var n=a.props,l=n.cookies,r=n.match;return a.state={loading:!0},l.get("user")?(a.state={user:l.get("user"),loading:null!=r.params.id,title:"Load Bracket",subTitle:"Load a Challonge bracket to get started!"},console.log(a.state.user)):a.props.history.push({pathname:"/login"}),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match;null!=e.params.id&&this.verifyBracket(e.params.id)}},{key:"componentDidUpdate",value:function(e){var t=e.match,a=this.props.match;t.params.id!==a.params.id&&(null!=a.params.id?this.verifyBracket(a.params.id):this.resetBracket())}},{key:"render",value:function(){return null==this.state.user||this.state.loading?l.a.createElement(k.h,{className:"dashboard"},l.a.createElement(k.i,null,l.a.createElement(k.f,{md:12},l.a.createElement(k.d,null,l.a.createElement(k.e,null,l.a.createElement("div",{className:"card__title"},l.a.createElement("h5",{className:"bold-text"},"Loading"),l.a.createElement("h5",{className:"subhead"},"One moment, please..."))))))):l.a.createElement(k.h,{className:"dashboard"},l.a.createElement(k.i,null,l.a.createElement(k.f,null,l.a.createElement(k.d,null,l.a.createElement(k.e,null,l.a.createElement("div",{className:"card__title"},l.a.createElement("h5",{className:"bold-text"},this.state.title),l.a.createElement("h5",{className:"subhead"},this.state.subTitle)),l.a.createElement(_e,{user:this.state.user,bracket:this.state.bracket,labels:this.state.labels,currentMatch:this.state.currentMatch,loadBracket:this.loadBracket,updateLabel:this.updateLabel,updateRound:this.updateRound,update:this.update,finish:this.finish})))),l.a.createElement(k.f,null,l.a.createElement(k.d,null,l.a.createElement(k.e,null,l.a.createElement("div",{className:"card__title"},l.a.createElement("h5",{className:"bold-text"},"Participants"),l.a.createElement("h5",{className:"subhead"},"Add default values for participants.")),l.a.createElement(Ce,{bracket:this.state.bracket}))))),l.a.createElement(k.i,null,l.a.createElement(k.f,{md:6},l.a.createElement(k.d,null,l.a.createElement(k.e,null,l.a.createElement("div",{className:"card__title"},l.a.createElement("h5",{className:"bold-text"},"Labels"),l.a.createElement("h5",{className:"subhead"},"Add additional labels to participants.")),l.a.createElement(Me,{bracket:this.state.bracket,labels:this.state.labels,updateLabelProperty:this.updateLabelProperty,addLabel:this.addLabel}))))))}}]),t}(n.Component);xe.defaultProps={history:null,match:null};var Te=Object(m.a)(Object(y.b)(xe)),Ue=function(){return l.a.createElement(k.f,{md:12},l.a.createElement(k.d,null,l.a.createElement(k.e,null,l.a.createElement("div",{className:"card__title"},l.a.createElement("h5",{className:"bold-text"},"teaCup Desktop Client"),l.a.createElement("h5",{className:"subhead"},"Sync text files and images with current labels.")),l.a.createElement("p",null,l.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"/downloads/teaCup-windows.zip"},"Windows Download")),l.a.createElement("p",null,l.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"/downloads/teaCup-mac.zip"},"Mac Download")),l.a.createElement("p",null,l.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"/downloads/teaCup-linux.zip"},"Linux Download")))))},Re=function(){return l.a.createElement(k.f,{md:12},l.a.createElement(k.d,null,l.a.createElement(k.e,null,l.a.createElement("div",{className:"card__title"},l.a.createElement("h5",{className:"bold-text"},"Chrome Extension for Challonge"),l.a.createElement("h5",{className:"subhead"},"Queue matches to be streamed right from the bracket page.")),l.a.createElement("p",null,l.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://chrome.google.com/webstore/detail/teacup/noccoohlmcmckbplaggkfobjlipcbjfe"},"Install Extension")))))},Ae=function(){return l.a.createElement(k.h,{className:"dashboard"},l.a.createElement(k.i,null,l.a.createElement(k.f,{md:12},l.a.createElement("h3",{className:"page-title"},"Downloads"))),l.a.createElement(k.i,null,l.a.createElement(Ue,null)),l.a.createElement(k.i,null,l.a.createElement(Re,null)))},Be=function(){return l.a.createElement("div",null,l.a.createElement(W,null),l.a.createElement("div",{className:"container__wrap"},l.a.createElement(r.a,{path:"/brackets/:id?",component:Te}),l.a.createElement(r.a,{exact:!0,path:"/",component:Te}),l.a.createElement(r.a,{exact:!0,path:"/download",component:Ae}),l.a.createElement(r.a,{exact:!0,path:"/downloads",component:Ae})))};t.a=function(){return l.a.createElement(H,null,l.a.createElement("main",null,l.a.createElement(c.a,null,l.a.createElement(r.a,{exact:!0,path:"/login",component:re}),l.a.createElement(r.a,{path:"/",component:Be}))))}},206:function(e,t,a){"use strict";var n=a(18),l=a(318),r=a(69),c={className:"theme-light"},o=a(140),s=a(70),i={show:!1,collapse:!1},u=Object(n.b)({form:l.a,theme:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;switch((arguments.length>1?arguments[1]:void 0).type){case r.a:return{className:"theme-dark"};case r.b:return{className:"theme-light"};default:return e}},sidebar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;switch((arguments.length>1?arguments[1]:void 0).type){case s.b:return Object(o.a)({},e,{collapse:!e.collapse});case s.a:return Object(o.a)({},e,{show:!e.show});default:return e}}}),p=Object(n.c)(u);t.a=p},208:function(e,t,a){e.exports=a(209)},209:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),r=a(20),c=a(41),o=a(186);Object(r.render)(l.a.createElement(c.a,null,l.a.createElement(o.a,null)),document.getElementById("root"))},222:function(e,t,a){},289:function(e,t){},69:function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"b",function(){return l}),a.d(t,"c",function(){return r}),a.d(t,"d",function(){return c});var n="CHANGE_THEME_TO_DARK",l="CHANGE_THEME_TO_LIGHT";function r(){return{type:n}}function c(){return{type:l}}},70:function(e,t,a){"use strict";a.d(t,"b",function(){return n}),a.d(t,"a",function(){return l}),a.d(t,"d",function(){return r}),a.d(t,"c",function(){return c});var n="CHANGE_SIDEBAR_VISIBILITY",l="CHANGE_MOBILE_SIDEBAR_VISIBILITY";function r(){return{type:n}}function c(){return{type:l}}}},[[208,2,1]]]);
//# sourceMappingURL=main.303322b8.chunk.js.map