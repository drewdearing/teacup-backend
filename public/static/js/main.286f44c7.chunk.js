(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{186:function(e,t,a){"use strict";(function(e){var n=a(6),r=a(7),l=a(8),c=a(9),o=a(10),s=a(1),i=a.n(s),u=a(187),p=a(31),m=a(319),d=(a(220),a(222),a(204)),h=a(206),b=a(203),f=function(e){function t(){var e;return Object(n.a)(this,t),(e=Object(l.a)(this,Object(c.a)(t).call(this))).state={loading:!0,loaded:!1},e}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("load",function(){e.setState({loading:!1}),setTimeout(function(){return e.setState({loaded:!0})},500)})}},{key:"render",value:function(){var e=this.state,t=e.loaded,a=e.loading;return i.a.createElement(p.a,{store:h.a},i.a.createElement(m.a,null,i.a.createElement(b.a,null,!t&&i.a.createElement("div",{className:"load".concat(a?"":" loaded")},i.a.createElement("div",{className:"load__icon-wrap"},i.a.createElement("svg",{className:"load__icon"},i.a.createElement("path",{fill:"#4ce1b6",d:"M12,4V2A10,10 0 0,0 2,12H4A8,8 0 0,1 12,4Z"})))),i.a.createElement("div",null,i.a.createElement(d.a,null)))))}}]),t}(s.Component);t.a=Object(u.hot)(e)(f)}).call(this,a(55)(e))},203:function(e,t,a){"use strict";var n=a(6),r=a(7),l=a(8),c=a(9),o=a(10),s=a(1),i=a(320),u=function(e){function t(){return Object(n.a)(this,t),Object(l.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.location.pathname!==e.location.pathname&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children}}]),t}(s.PureComponent);t.a=Object(i.a)(u)},204:function(e,t,a){"use strict";var n=a(1),r=a.n(n),l=a(265),c=a(321),o=a(6),s=a(7),i=a(8),u=a(9),p=a(10),m=a(320),d=a(31),h=a(3),b=a.n(h),f=a(224),v="".concat(".","/img/burger.svg"),g=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.changeMobileSidebarVisibility,a=e.changeSidebarVisibility;return r.a.createElement("div",null,r.a.createElement("button",{className:"topbar__button topbar__button--desktop",onClick:a},r.a.createElement("img",{src:v,alt:"",className:"topbar__button-icon"})),r.a.createElement("button",{className:"topbar__button topbar__button--mobile",onClick:t},r.a.createElement("img",{src:v,alt:"",className:"topbar__button-icon"})))}}]),t}(n.PureComponent),E=a(189),_=a.n(E),k=a(12),y=a(41),O=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.icon,n=e.path;return r.a.createElement(f.a,{className:"topbar__link",to:n},r.a.createElement("span",{className:"topbar__link-icon lnr lnr-".concat(a)}),r.a.createElement("p",{className:"topbar__link-title"},t))}}]),t}(n.PureComponent),j="".concat(".","/img/ava.png"),N=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).toggle=function(){a.setState({collapse:!a.state.collapse})};var n=a.props.cookies;return a.state={collapse:!1,username:"User"},n.get("user")&&(a.state={username:n.get("user").user,collapse:!1}),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.collapse;return r.a.createElement("div",{className:"topbar__profile"},r.a.createElement("button",{className:"topbar__avatar",onClick:this.toggle},r.a.createElement("img",{className:"topbar__avatar-img",src:j,alt:"avatar"}),r.a.createElement("p",{className:"topbar__avatar-name"},t),r.a.createElement(_.a,{className:"topbar__icon"})),a&&r.a.createElement("button",{className:"topbar__back",onClick:this.toggle}),r.a.createElement(k.g,{isOpen:a,className:"topbar__menu-wrap"},r.a.createElement("div",{className:"topbar__menu"},r.a.createElement(O,{title:"My Brackets",icon:"list",path:"/brackets"}),r.a.createElement("div",{className:"topbar__menu-divider"}),r.a.createElement(O,{title:"Log Out",icon:"exit",path:"/login"}))))}}]),t}(n.PureComponent),C=Object(y.b)(N),L=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.changeMobileSidebarVisibility,a=e.changeSidebarVisibility;return r.a.createElement("div",{className:"topbar"},r.a.createElement("div",{className:"topbar__wrapper"},r.a.createElement("div",{className:"topbar__left"},r.a.createElement(g,{changeMobileSidebarVisibility:t,changeSidebarVisibility:a}),r.a.createElement(f.a,{className:"topbar__logo",to:"/"})),r.a.createElement("div",{className:"topbar__right"},r.a.createElement(C,null))))}}]),t}(n.PureComponent),S=a(191),P=a.n(S),w=a(315),M=function(e){var t=e.title,a=e.icon,n=e.newLink,l=e.route,c=e.onClick;return r.a.createElement(w.a,{to:l,onClick:c,activeClassName:"sidebar__link-active"},r.a.createElement("li",{className:"sidebar__link"},a?r.a.createElement("span",{className:"sidebar__link-icon lnr lnr-".concat(a)}):"",r.a.createElement("p",{className:"sidebar__link-title"},t,n?r.a.createElement(k.a,{className:"sidebar__link-badge"},r.a.createElement("span",null,"New")):"")))};M.defaultProps={icon:"",newLink:!1,route:"/",onClick:function(){}};var D=M,T=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).hideSidebar=function(){a.props.onClick()},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"sidebar__content"},r.a.createElement("ul",{className:"sidebar__block"},r.a.createElement(D,{title:"Brackets",icon:"home",route:"/brackets",onClick:this.hideSidebar})))}}]),t}(n.Component),U=a(0),R=a.n(U),x=R.a.string,A=R.a.shape,B=(A({show:R.a.bool,collapse:R.a.bool}),A({className:x}),function(e){var t=e.changeToDark,a=e.changeToLight,n=e.changeMobileSidebarVisibility,l=e.sidebar,c=b()({sidebar:!0,"sidebar--show":l.show,"sidebar--collapse":l.collapse});return r.a.createElement("div",{className:c},r.a.createElement("button",{className:"sidebar__back",onClick:n}),r.a.createElement(P.a,{className:"sidebar__scroll scroll"},r.a.createElement("div",{className:"sidebar__wrapper sidebar__wrapper--desktop"},r.a.createElement(T,{onClick:function(){},changeToDark:t,changeToLight:a})),r.a.createElement("div",{className:"sidebar__wrapper sidebar__wrapper--mobile"},r.a.createElement(T,{onClick:n,changeToDark:t,changeToLight:a}))))}),V=a(69),I=a(70),K=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).changeSidebarVisibility=function(){a.props.dispatch(Object(I.d)())},a.changeMobileSidebarVisibility=function(){a.props.dispatch(Object(I.c)())},a.changeToDark=function(){a.props.dispatch(Object(V.c)())},a.changeToLight=function(){a.props.dispatch(Object(V.d)())},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=b()({layout:!0,"layout--collapse":this.props.sidebar.collapse});return r.a.createElement("div",{className:e},r.a.createElement(L,{changeMobileSidebarVisibility:this.changeMobileSidebarVisibility,changeSidebarVisibility:this.changeSidebarVisibility}),r.a.createElement(B,{sidebar:this.props.sidebar,changeToDark:this.changeToDark,changeToLight:this.changeToLight,changeMobileSidebarVisibility:this.changeMobileSidebarVisibility}))}}]),t}(n.Component),W=Object(m.a)(Object(d.b)(function(e){return{sidebar:e.sidebar}})(K)),F=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.theme;return r.a.createElement("div",{className:e.className},r.a.createElement("div",{className:"wrapper"},this.props.children))}}]),t}(n.PureComponent),H=Object(d.b)(function(e){return{theme:e.theme}})(F),J=a(75),G=a(193),Y=a.n(G),z=a(194),Z=a.n(z),q=a(195),Q=a.n(q),X=a(138),$=a.n(X),ee=a(196),te=a.n(ee),ae=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.onChange)(e.defaultChecked)}},{key:"render",value:function(){var e=this.props,t=e.disabled,a=e.className,n=e.name,l=e.value,c=e.onChange,o=e.label,s=e.color,i=b()({"checkbox-btn":!0,disabled:t});return r.a.createElement("label",{className:"".concat(i," ").concat(a?" checkbox-btn--".concat(a):""),htmlFor:n},r.a.createElement("input",{className:"checkbox-btn__checkbox",type:"checkbox",id:n,name:n,onChange:c,checked:l,disabled:t}),r.a.createElement("span",{className:"checkbox-btn__checkbox-custom",style:s?{background:s,borderColor:s}:{}},r.a.createElement($.a,null)),"button"===a?r.a.createElement("span",{className:"checkbox-btn__label-svg"},r.a.createElement($.a,{className:"checkbox-btn__label-check"}),r.a.createElement(te.a,{className:"checkbox-btn__label-uncheck"})):"",r.a.createElement("span",{className:"checkbox-btn__label"},o))}}]),t}(n.PureComponent);ae.defaultProps={label:"",defaultChecked:!1,disabled:!1,className:"",color:""};var ne=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).showKey=function(t){t.preventDefault(),e.setState({showKey:!e.state.showKey})},e.signIn=function(t){var a=e.state,n=a.user,r=a.key,l=a.rememberMe;t.preventDefault(),e.setState({formDisabled:!0}),console.log("signing in...");var c="".concat("https://teacup-challonge.herokuapp.com","/init?user=").concat(n,"&key=").concat(r);console.log(c),fetch(c,{method:"get"}).then(function(t){console.log("result returned."),t.json().then(function(t){console.log(t),t.isAuthenticated?e.props.onSuccess({user:n,key:r,rememberMe:l}):e.setState({formDisabled:!1})})},function(t){console.log("error returned."),console.log(t),e.setState({formDisabled:!1})})},e.updateUser=function(t){e.setState({user:t.target.value})},e.updateKey=function(t){e.setState({key:t.target.value})},e.updateRememberMe=function(t){t&&e.setState({rememberMe:!e.state.rememberMe})},e.state={showKey:!1,formDisabled:!1,user:"",key:"",rememberMe:!1},e}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state.showKey;return r.a.createElement("form",{className:"form"},r.a.createElement("div",{className:"form__form-group"},r.a.createElement("span",{className:"form__form-group-label"},"Username"),r.a.createElement("div",{className:"form__form-group-field"},r.a.createElement("div",{className:"form__form-group-icon"},r.a.createElement(Q.a,null)),r.a.createElement("input",{name:"user",type:"text",placeholder:"Challonge Username",onChange:function(t){return e.updateUser(t)},disabled:this.state.formDisabled?"disabled":""}))),r.a.createElement("div",{className:"form__form-group"},r.a.createElement("span",{className:"form__form-group-label"},"API Key"),r.a.createElement("div",{className:"form__form-group-field"},r.a.createElement("div",{className:"form__form-group-icon"},r.a.createElement(Z.a,null)),r.a.createElement("input",{name:"key",type:t?"text":"password",placeholder:"Challonge API Key",onChange:function(t){return e.updateKey(t)},disabled:this.state.formDisabled?"disabled":""}),r.a.createElement("button",{className:"form__form-group-button".concat(t?" active":""),onClick:function(t){return e.showKey(t)},type:"button",disabled:this.state.formDisabled?"disabled":""},r.a.createElement(Y.a,null))),r.a.createElement("div",{className:"account__forgot-password"},r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://challonge.com/settings/developer"},"Locate API Key"))),r.a.createElement("div",{className:"form__form-group"},r.a.createElement("div",{className:"form__form-group-field"},r.a.createElement(ae,{name:"rememberMe",label:"Remember me",disabled:this.state.formDisabled?"disabled":"",onChange:function(t){return e.updateRememberMe(t)}}))),r.a.createElement("button",{type:"submit",className:"btn btn-primary account__btn account__btn--small",onClick:function(t){return e.signIn(t)},disabled:this.state.formDisabled?"disabled":""},"Sign In"))}}]),t}(n.PureComponent),re=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).props.cookies.remove("user"),a.handleSubmit=a.handleSubmit.bind(Object(J.a)(Object(J.a)(a))),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"handleSubmit",value:function(e){this.props.cookies.set("user",e),this.props.history.push({pathname:"/"})}},{key:"render",value:function(){return r.a.createElement("div",{className:"account"},r.a.createElement("div",{className:"account__wrapper"},r.a.createElement("div",{className:"account__card"},r.a.createElement("div",{className:"account__head"},r.a.createElement("h3",{className:"account__title"},"Welcome to",r.a.createElement("span",{className:"account__logo"}," tea",r.a.createElement("span",{className:"account__logo-accent"},"Cup"))),r.a.createElement("h4",{className:"account__subhead subhead"},"The Stream Assistant for Challonge")),r.a.createElement(ne,{onSuccess:this.handleSubmit}))))}}]),t}(n.Component);re.defaultProps={history:null};var le=Object(m.a)(Object(y.b)(re)),ce=a(197),oe=a.n(ce),se=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onChange=function(e){(0,a.props.updateRound)(e)},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(){this.forceUpdate()}},{key:"render",value:function(){var e=this,t=this.props.round;return r.a.createElement("form",{className:"form"},r.a.createElement("div",{className:"form__form-group"},r.a.createElement("span",{className:"form__form-group-label"},"Round"),r.a.createElement("div",{className:"form__form-group-field"},r.a.createElement("input",{name:"round",type:"text",value:t,placeholder:"Round",onChange:function(t){return e.onChange(t)}}))))}}]),t}(n.PureComponent);se.defaultProps={round:null,updateRound:null};var ie=se,ue=a(198),pe=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){var t=a.props,n=t.name;(0,t.onChange)({target:{name:n,value:e.value,label:e.label}})},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.value,a=e.name,n=e.placeholder,l=e.options;return r.a.createElement(ue.a,{name:a,value:t,onChange:this.handleChange,options:l,clearable:!1,className:"react-select",placeholder:n,classNamePrefix:"react-select"})}}]),t}(n.PureComponent);pe.defaultProps={placeholder:"",options:[]};var me=pe,de=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).onChange=function(e){var t=a.props,n=t.id;(0,t.updateLabel)(n,e)},a.getLabel=function(e){var t=a.props.participant;if("string"===e.type)return r.a.createElement("div",{className:"form__form-group"},r.a.createElement("span",{className:"form__form-group-label"},e.name),r.a.createElement("div",{className:"form__form-group-field"},r.a.createElement("input",{name:e.name,type:"text",value:t[e.name],placeholder:e.name,onChange:function(e){return a.onChange(e)}})));if("int"===e.type)return r.a.createElement("div",{className:"form__form-group"},r.a.createElement("span",{className:"form__form-group-label"},e.name),r.a.createElement("div",{className:"form__form-group-field"},r.a.createElement("input",{name:e.name,type:"number",value:t[e.name],onChange:function(e){return a.onChange(e)}})));if("option_select"===e.type){var n=[],l={label:t[e.name],value:t[e.name]};return e.options.forEach(function(e){n.push({label:e,value:e})}),r.a.createElement("div",{className:"form__form-group"},r.a.createElement("span",{className:"form__form-group-label"},e.name),r.a.createElement(me,{options:n,value:l,name:e.name,placeholder:e.name,onChange:a.onChange}))}return r.a.createElement("br",null)},a.showLabels=function(){var e=a.props.labels,t=[];return Object.keys(e).length>0?(Object.values(e).forEach(function(e){t.push(a.getLabel(e))}),t):r.a.createElement("p",null,"Add labels to this bracket to edit participant data.")},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(){this.forceUpdate()}},{key:"render",value:function(){var e=this.props.participant;return r.a.createElement("div",null,r.a.createElement("h3",null,e.name),r.a.createElement("form",{className:"form"},this.showLabels()))}}]),t}(n.PureComponent);de.defaultProps={participant:null,labels:null,updateLabel:null,id:null};var he=de,be=a(317),fe=a(316),ve=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).loadBracket=function(t){var a=e.props,n=a.user,r=a.handleSubmit,l=e.state.challongeURL;t.preventDefault();var c=n.user,o=n.key,s="https://teacup-challonge.herokuapp.com/init?user=".concat(c,"&key=").concat(o,"&id=").concat(l);console.log(s),fetch(s,{method:"get"}).then(function(t){console.log("result returned."),t.json().then(function(t){console.log(t),t.isOwner?r(l):e.setState({status:"You are not authorized to load this bracket!"})})},function(){e.setState({status:"An error occurred!"})})},e.updateURL=function(t){e.setState({challongeURL:t.target.value})},e.state={challongeURL:"",status:"Enter the Challonge URL Code below."},e}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state.status;return r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("b",null,t)),r.a.createElement("br",null),r.a.createElement("form",{className:"form"},r.a.createElement("div",{className:"form__form-group"},r.a.createElement("label",{htmlFor:"challongeURL",className:"form__form-group-label"},"Challonge URL Code"),r.a.createElement("div",{className:"form__form-group-field"},r.a.createElement(be.a,{id:"challongeURL",name:"challongeURL",component:"input",type:"text",placeholder:"Challonge URL Code",onChange:function(t){return e.updateURL(t)}}))),r.a.createElement(k.c,{className:"form__button-toolbar"},r.a.createElement(k.b,{color:"primary",type:"submit",onClick:function(t){return e.loadBracket(t)}},"Load"))))}}]),t}(n.PureComponent);ve.defaultProps={user:null,handleSubmit:null};var ge=Object(fe.a)({form:"challonge_import_form"})(ve),Ee=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(){this.forceUpdate()}},{key:"render",value:function(){var e=this.props,t=e.user,a=e.bracket,n=e.labels,l=e.currentMatch,c=e.updateLabel,o=e.updateRound,s=e.update,i=e.finish;if(null!=a&&null!=n){if(null!=l&&null!=l.match_id){var u=l.participant1,p=l.participant2,m=l.participants[u],d=l.participants[p];return r.a.createElement("div",null,r.a.createElement(ie,{round:l.round,updateRound:o}),r.a.createElement(k.i,null,r.a.createElement(k.f,null,r.a.createElement(he,{participant:m,id:u,labels:n,updateLabel:c})),r.a.createElement(k.f,null,r.a.createElement(he,{participant:d,id:p,labels:n,updateLabel:c}))),r.a.createElement("div",{className:"float-right"},r.a.createElement(k.b,{type:"submit",color:"secondary",onClick:function(e){return i(e)}},"Finish Set"),r.a.createElement(k.b,{color:"primary",type:"submit",onClick:function(e){return s(e)}},"Update")))}return r.a.createElement("p",null,"Waiting on match.")}return r.a.createElement(ge,{user:t,handleSubmit:this.props.loadBracket})}}]),t}(n.PureComponent);Ee.defaultProps={user:null,bracket:null,labels:null,currentMatch:null,loadBracket:null,updateLabel:null,updateRound:null,update:null,finish:null};var _e=Ee,ke=a(202),ye=a.n(ke),Oe=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){var t=a.props,n=t.name;(0,t.onChange)({target:{name:n,value:e.value,label:e.label}})},a.loadOptions=function(e,t){var n=a.props.bracket,r="https://teacup-challonge.herokuapp.com/participants?id=".concat(n);fetch(r,{method:"get"}).then(function(n){console.log("result returned."),n.json().then(function(n){a.filterOptions(n,e,t)})},function(){console.log("error")})},a.filterOptions=function(e,t,a){var n=[],r=[];e.forEach(function(e){if("participant"in e){var a=e.participant,l=a.id,c=a.display_name;c.toLowerCase().includes(t.toLowerCase())&&n.push({value:l,label:c}),r.push({value:l,label:c})}}),console.log(n),a(n)},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.value,a=e.name,n=e.placeholder;return r.a.createElement(ye.a,{name:a,value:t,onChange:this.handleChange,loadOptions:this.loadOptions,clearable:!1,className:"react-select",placeholder:n,classNamePrefix:"react-select",defaultOptions:!0})}}]),t}(n.PureComponent);Oe.defaultProps={placeholder:""};var je=Oe,Ne=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).setLabels=function(e){var t={};Object.keys(e).forEach(function(a){var n=e[a].value;t[a]=null!=n&&""!==n?e[a].value:e[a].default}),a.setState({labels:e,participant:t})},a.updateParticipant=function(e){var t=a.props.bracket;a.setState({selected:{label:e.target.label,value:String(e.target.value)},labels:null,participant:null});var n="https://teacup-challonge.herokuapp.com";n+="/participant/labels?id=".concat(t,"&participant_id=").concat(e.target.value),fetch(n,{method:"get"}).then(function(e){console.log("result returned."),e.json().then(function(e){a.setLabels(e)})},function(){console.log("error")})},a.updateLabel=function(e,t){var n=a.state.participant;if(null!=n){var r=n;r[t.target.name]=t.target.value,console.log(n),a.setState({participant:r},function(){a.forceUpdate()})}},a.update=function(e){var t=a.props.bracket,n=a.state,r=n.selected,l=n.participant;if(e.preventDefault(),null!=r.value&&""!==r.value){var c={id:t,participant_id:r.value,labels:l};fetch("https://teacup-challonge.herokuapp.com/participant/labels/update",{method:"put",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}}).then(function(){console.log("result returned.")},function(){console.log("error")})}},a.showParticipant=function(){var e=a.state,t=e.selected,n=e.participant,l=e.labels;return null!=t&&""!==t.value?null!=n&&null!=l?r.a.createElement("div",null,r.a.createElement(he,{participant:n,labels:l,id:n.value,updateLabel:a.updateLabel}),r.a.createElement(k.b,{className:"float-right",color:"primary",type:"submit",onClick:function(e){return a.update(e)}},"Update")):r.a.createElement("p",null,"Loading participant..."):r.a.createElement("p",null,"Select a participant.")},a.state={selected:{label:"",value:""},participant:null,labels:null},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(){this.forceUpdate()}},{key:"render",value:function(){var e=this.props.bracket;return null!=e?r.a.createElement("div",null,r.a.createElement("form",{className:"form"},r.a.createElement("div",{className:"form__form-group"},r.a.createElement("span",{className:"form__form-group-label"},"Participant"),r.a.createElement(je,{bracket:e,name:"selectedParticipant",value:this.state.selected,placeholder:"Participant Name",onChange:this.updateParticipant}))),this.showParticipant()):r.a.createElement("p",null,"Waiting on bracket.")}}]),t}(n.PureComponent);Ne.defaultProps={bracket:null};var Ce=Ne,Le=a(99),Se=a.n(Le),Pe=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).onChange=function(e){var t=a.props,n=t.id;(0,t.updateLabelProperty)(n,e)},a.onChangeOptions=function(e){var t=a.props,n=t.id;(0,t.updateLabelProperty)(n,{target:{name:"options",value:e}})},a.defaultField=function(e){if("string"===e.type)return r.a.createElement("div",{className:"form__form-group"},r.a.createElement("span",{className:"form__form-group-label"},"Default Value"),r.a.createElement("div",{className:"form__form-group-field"},r.a.createElement("input",{name:"default",type:"text",value:e.default,placeholder:"Default Value",onChange:function(e){return a.onChange(e)}})));if("int"===e.type)return r.a.createElement("div",{className:"form__form-group"},r.a.createElement("span",{className:"form__form-group-label"},"Default Value"),r.a.createElement("div",{className:"form__form-group-field"},r.a.createElement("input",{name:"default",type:"number",value:e.default,onChange:function(e){return a.onChange(e)}})));if("option_select"===e.type){var t=[],n={label:e.default,value:e.default};return e.options.forEach(function(e){t.push({label:e,value:e})}),r.a.createElement("div",{className:"form__form-group"},r.a.createElement("span",{className:"form__form-group-label"},"Default Value"),r.a.createElement(me,{options:t,value:n,name:"default",placeholder:"Default Value",onChange:a.onChange}))}return null},a.optionsField=function(e){if("option_select"===e.type){var t=[];return e.options.forEach(function(e){t.push({label:e,value:e})}),r.a.createElement("div",{className:"form__form-group"},r.a.createElement("span",{className:"form__form-group-label"},"Options"),r.a.createElement(Se.a,{isMulti:!0,value:t,className:"basic-multi-select",options:t,name:"options",placeholder:"Options",onChange:a.onChangeOptions}))}return null},a.typeField=function(e){var t={string:{label:"Text",value:"string"},int:{label:"Integer",value:"int"},option_select:{label:"Option Select",value:"option_select"}};return r.a.createElement("div",{className:"form__form-group"},r.a.createElement("span",{className:"form__form-group-label"},"Type"),r.a.createElement(me,{options:Object.values(t),value:t[e.type],name:"type",placeholder:"Type",onChange:a.onChange}))},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(){this.forceUpdate()}},{key:"render",value:function(){var e=this.props.label;return r.a.createElement("div",null,r.a.createElement("form",{className:"form"},this.typeField(e),this.optionsField(e),this.defaultField(e)))}}]),t}(n.PureComponent);Pe.defaultProps={label:null,updateLabelProperty:null,id:null};var we=Pe,Me=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).updateSelectedLabel=function(e){var t=a.props,n=t.labels,r=t.addLabel;if(e.value in n){var l=n[e.value];a.setState({selected:e,label:l},function(){a.forceUpdate()})}else{var c={name:e.value,type:"string",default:""};a.setState({selected:e,label:c}),r(c)}},a.update=function(e){var t=a.state.label,n=a.props.bracket;if(e.preventDefault(),null!=t){console.log("hi");var r={id:n,label:t};fetch("https://teacup-challonge.herokuapp.com/labels/update",{method:"put",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}})}},a.delete=function(e){var t=a.state.label,n=a.props.bracket;if(e.preventDefault(),null!=t){var r={id:n,name:t.name};fetch("https://teacup-challonge.herokuapp.com/labels/delete",{method:"put",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}}),a.setState({selected:{label:"",value:""},label:null})}},a.showLabel=function(){var e=a.state,t=e.selected,n=e.label;return null!=t&&""!==t.value?null!=n?r.a.createElement("div",null,r.a.createElement(we,{label:n,id:t.value,updateLabelProperty:a.props.updateLabelProperty}),r.a.createElement("div",{className:"float-right"},r.a.createElement(k.b,{color:"secondary",type:"submit",onClick:function(e){return a.delete(e)}},"Delete"),r.a.createElement(k.b,{color:"primary",type:"submit",onClick:function(e){return a.update(e)}},"Update"))):r.a.createElement("p",null,"Loading label..."):r.a.createElement("p",null,"Select a label.")},a.state={selected:{label:"",value:""},label:null},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentWillReceiveProps",value:function(){this.forceUpdate()}},{key:"render",value:function(){var e=this.props,t=e.bracket,a=e.labels;if(null!=t){var n=[];return Object.keys(a).forEach(function(e){"name"!==e&&"score"!==e&&n.push({label:e,value:e})}),r.a.createElement("div",null,r.a.createElement("form",{className:"form"},r.a.createElement("div",{className:"form__form-group"},r.a.createElement("span",{className:"form__form-group-label"},"Label"),r.a.createElement(Se.a,{name:"selectedLabel",value:this.state.selected,placeholder:"Label Name",onChange:this.updateSelectedLabel,options:n}))),this.showLabel())}return r.a.createElement("p",null,"Waiting on bracket.")}}]),t}(n.PureComponent);Me.defaultProps={bracket:null,labels:null,updateLabelProperty:null,addLabel:null};var De=Me,Te=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).setUpSocket=function(){a.state.socket.on("current_labels",function(e){return a.handleLabelUpdate(e)})},a.getLabels=function(e,t,n){var r="https://teacup-challonge.herokuapp.com/labels?id=".concat(e);fetch(r,{method:"get"}).then(function(r){console.log("result returned."),r.json().then(function(r){console.log(r),a.setState({bracket:e,title:t,subTitle:n,loading:!1,labels:r}),a.startService()})},function(){console.log("error")})},a.handleLabelUpdate=function(e){var t=a.state.currentMatch;"match_id"in e&&(t.match_id=e.match_id),"round"in e&&(t.round=e.round),"participants"in e&&Object.keys(e.participants).forEach(function(a){"participants"in t||(t.participants={}),a in t.participants?Object.keys(e.participants[a]).forEach(function(n){t.participants[a][n]=e.participants[a][n]}):t.participants[a]=e.participants[a]}),"participant1"in e&&"participant2"in e&&(t.participant1=e.participant1,t.participant2=e.participant2),a.setState({currentMatch:t})},a.updateLabel=function(e,t){var n=a.state.currentMatch;if("participants"in n&&e in n.participants){var r=n.participants[e];r[t.target.name]=t.target.value,n.participants[e]=r,a.setState({currentMatch:n})}},a.addLabel=function(e){var t=a.state.labels;t[e.name]=e,a.setState({labels:t})},a.updateRound=function(e){var t=a.state.currentMatch;t.round=e.target.value,a.setState({currentMatch:t})},a.updateLabelProperty=function(e,t){var n=a.state.labels;if(e in n){var r=n[e];if("type"===t.target.name)"option_select"!==r.type&&"option_select"!==t.target.value||(r.options=[]),r.type=t.target.value,r.default="";else if("options"===t.target.name){r.options=[];var l=!1;if(t.target.value.forEach(function(e){r.options.push(e.value),e.value===r.default&&(l=!0)}),!l&&(r.default="",r.options.length>0)){var c=r.options[0];r.default=c}}else if("default"===t.target.name)if("option_select"===r.type){var o=!1;r.options.forEach(function(e){e===t.target.value&&(o=!0)}),o&&(r.default=t.target.value)}else r.default=t.target.value;n[e]=r,a.setState({labels:n})}},a.update=function(e){var t=a.state,n=t.bracket,r=t.currentMatch,l=t.user;e.preventDefault(),r.id=n;r.id=n,r.user=l.user,r.key=l.key,fetch("https://teacup-challonge.herokuapp.com/match/update",{method:"put",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}}).then(function(e){console.log(e)},function(){console.log("error")}),fetch("https://teacup-challonge.herokuapp.com/match/update/score",{method:"put",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}}).then(function(e){console.log(e)},function(){console.log("error")})},a.finish=function(e){var t=a.state,n=t.bracket,r=t.currentMatch,l=t.user;e.preventDefault(),r.id=n;r.id=n,r.user=l.user,r.key=l.key,fetch("https://teacup-challonge.herokuapp.com/match/complete",{method:"put",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}}).then(function(e){console.log(e)},function(){console.log("error")})},a.startService=function(){var e=a.state.bracket,t="https://teacup-challonge.herokuapp.com/currentMatch?id=".concat(e);fetch(t,{method:"get"}).then(function(t){console.log("result returned."),t.json().then(function(t){a.setState({currentMatch:t,socket:oe()("https://teacup-challonge.herokuapp.com?id=".concat(e))}),a.setUpSocket()})},function(){console.log("error")})},a.updateBracket=function(e){var t="https://teacup-challonge.herokuapp.com/tournament?id=".concat(e);fetch(t,{method:"get"}).then(function(t){console.log("result returned."),t.json().then(function(t){console.log(t),a.getLabels(e,t.tournament.name,"Update stream match data live!")})},function(){console.log("error")})},a.loadBracket=function(e){a.props.history.push({pathname:"/brackets/".concat(e)}),a.setState({loading:!0})},a.resetBracket=function(){a.setState({bracket:null,labels:null,loading:!1,socket:null,title:"Load Bracket",subTitle:"Load a Challonge bracket to get started!"})},a.verifyBracket=function(e){var t=a.props.history,n=a.state.user,r=n.user,l=n.key,c="https://teacup-challonge.herokuapp.com/init?user=".concat(r,"&key=").concat(l,"&id=").concat(e);console.log(c),fetch(c,{method:"get"}).then(function(n){console.log("result returned."),n.json().then(function(n){console.log(n),n.isOwner?a.updateBracket(e):t.push({pathname:"/brackets"})})},function(){t.push({pathname:"/brackets"})})};var n=a.props,r=n.cookies,l=n.match;return r.get("user")?(a.state={user:r.get("user"),loading:null!=l.params.id,title:"Load Bracket",subTitle:"Load a Challonge bracket to get started!"},console.log(a.state.user)):a.props.history.push({pathname:"/login"}),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match;null!=e.params.id&&this.verifyBracket(e.params.id)}},{key:"componentDidUpdate",value:function(e){var t=e.match,a=this.props.match;t.params.id!==a.params.id&&(null!=a.params.id?this.verifyBracket(a.params.id):this.resetBracket())}},{key:"render",value:function(){return null==this.state.user||this.state.loading?r.a.createElement(k.h,{className:"dashboard"},r.a.createElement(k.i,null,r.a.createElement(k.f,{md:12},r.a.createElement(k.d,null,r.a.createElement(k.e,null,r.a.createElement("div",{className:"card__title"},r.a.createElement("h5",{className:"bold-text"},"Loading"),r.a.createElement("h5",{className:"subhead"},"One moment, please..."))))))):r.a.createElement(k.h,{className:"dashboard"},r.a.createElement(k.i,null,r.a.createElement(k.f,null,r.a.createElement(k.d,null,r.a.createElement(k.e,null,r.a.createElement("div",{className:"card__title"},r.a.createElement("h5",{className:"bold-text"},this.state.title),r.a.createElement("h5",{className:"subhead"},this.state.subTitle)),r.a.createElement(_e,{user:this.state.user,bracket:this.state.bracket,labels:this.state.labels,currentMatch:this.state.currentMatch,loadBracket:this.loadBracket,updateLabel:this.updateLabel,updateRound:this.updateRound,update:this.update,finish:this.finish})))),r.a.createElement(k.f,null,r.a.createElement(k.d,null,r.a.createElement(k.e,null,r.a.createElement("div",{className:"card__title"},r.a.createElement("h5",{className:"bold-text"},"Participants"),r.a.createElement("h5",{className:"subhead"},"Add default values for participants.")),r.a.createElement(Ce,{bracket:this.state.bracket}))))),r.a.createElement(k.i,null,r.a.createElement(k.f,{md:6},r.a.createElement(k.d,null,r.a.createElement(k.e,null,r.a.createElement("div",{className:"card__title"},r.a.createElement("h5",{className:"bold-text"},"Labels"),r.a.createElement("h5",{className:"subhead"},"Add additional labels to participants.")),r.a.createElement(De,{bracket:this.state.bracket,labels:this.state.labels,updateLabelProperty:this.updateLabelProperty,addLabel:this.addLabel}))))))}}]),t}(n.Component);Te.defaultProps={history:null,match:null};var Ue=Object(m.a)(Object(y.b)(Te)),Re=function(){return r.a.createElement("div",null,r.a.createElement(W,null),r.a.createElement("div",{className:"container__wrap"},r.a.createElement(l.a,{path:"/brackets/:id?",component:Ue}),r.a.createElement(l.a,{exact:!0,path:"/",component:Ue})))};t.a=function(){return r.a.createElement(H,null,r.a.createElement("main",null,r.a.createElement(c.a,null,r.a.createElement(l.a,{exact:!0,path:"/login",component:le}),r.a.createElement(l.a,{path:"/",component:Re}))))}},206:function(e,t,a){"use strict";var n=a(18),r=a(318),l=a(69),c={className:"theme-light"},o=a(140),s=a(70),i={show:!1,collapse:!1},u=Object(n.b)({form:r.a,theme:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;switch((arguments.length>1?arguments[1]:void 0).type){case l.a:return{className:"theme-dark"};case l.b:return{className:"theme-light"};default:return e}},sidebar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;switch((arguments.length>1?arguments[1]:void 0).type){case s.b:return Object(o.a)({},e,{collapse:!e.collapse});case s.a:return Object(o.a)({},e,{show:!e.show});default:return e}}}),p=Object(n.c)(u);t.a=p},208:function(e,t,a){e.exports=a(209)},209:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(20),c=a(41),o=a(186);Object(l.render)(r.a.createElement(c.a,null,r.a.createElement(o.a,null)),document.getElementById("root"))},222:function(e,t,a){},289:function(e,t){},69:function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"b",function(){return r}),a.d(t,"c",function(){return l}),a.d(t,"d",function(){return c});var n="CHANGE_THEME_TO_DARK",r="CHANGE_THEME_TO_LIGHT";function l(){return{type:n}}function c(){return{type:r}}},70:function(e,t,a){"use strict";a.d(t,"b",function(){return n}),a.d(t,"a",function(){return r}),a.d(t,"d",function(){return l}),a.d(t,"c",function(){return c});var n="CHANGE_SIDEBAR_VISIBILITY",r="CHANGE_MOBILE_SIDEBAR_VISIBILITY";function l(){return{type:n}}function c(){return{type:r}}}},[[208,2,1]]]);
//# sourceMappingURL=main.286f44c7.chunk.js.map